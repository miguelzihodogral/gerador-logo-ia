<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Gerador com Sugestões</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #f4f4f4; margin: 0; padding: 20px; }
    #login, #gerador, #admin { display: none; }
    textarea { width: 300px; height: 100px; margin: 10px 0; }
    button { padding: 10px 20px; margin: 5px; cursor: pointer; }
    .sugestao { border: 1px solid #ccc; background: #fff; margin: 5px; padding: 10px; }
    .aceita { background: #c8f7c5; }
  </style>
</head>
<body>
  <h2>Digite seu código de ativação</h2>
  <div id="login">
    <input type="text" id="codigo" placeholder="Código de ativação">
    <button onclick="ativar()">Entrar</button>
  </div>

  <div id="gerador">
    <h2>Gerador</h2>
    <textarea id="texto" placeholder="Digite sua sugestão..."></textarea><br>
    <button onclick="enviarSugestao()">Enviar Sugestão</button>
  </div>

  <div id="admin">
    <h2>Painel do ADM</h2>
    <div id="pendentes"></div>
    <h3>Sugestões Aceitas</h3>
    <div id="aceitas"></div>
  </div>

  <script>
    let isAdmin = false;
    let pendentes = [];
    let aceitas = [];

    document.getElementById("login").style.display = "block";

    function ativar() {
      const codigo = document.getElementById("codigo").value.trim();
      if (codigo === "cliente") {
        document.getElementById("login").style.display = "none";
        document.getElementById("gerador").style.display = "block";
      } else if (codigo === "gays-viados") {
        isAdmin = true;
        document.getElementById("login").style.display = "none";
        document.getElementById("gerador").style.display = "block";
        document.getElementById("admin").style.display = "block";
      } else {
        alert("Código inválido!");
      }
    }

    function enviarSugestao() {
      const texto = document.getElementById("texto").value.trim();
      if (!texto) return alert("Digite algo!");
      if (isAdmin) {
        pendentes.push(texto);
        atualizarPendentes();
      } else {
        alert("Sugestão enviada! (aguarde aprovação do ADM)");
        pendentes.push(texto);
      }
      document.getElementById("texto").value = "";
    }

    function atualizarPendentes() {
      const div = document.getElementById("pendentes");
      div.innerHTML = "<h3>Sugestões Pendentes</h3>";
      pendentes.forEach((s, i) => {
        div.innerHTML += `
          <div class="sugestao">
            ${s}<br>
            <button onclick="aceitar(${i})">Aceitar</button>
            <button onclick="recusar(${i})">Recusar</button>
          </div>
        `;
      });
    }

    function aceitar(i) {
      aceitas.push(pendentes[i]);
      pendentes.splice(i, 1);
      atualizarPendentes();
      atualizarAceitas();
    }

    function recusar(i) {
      pendentes.splice(i, 1);
      atualizarPendentes();
    }

    function atualizarAceitas() {
      const div = document.getElementById("aceitas");
      div.innerHTML = "";
      aceitas.forEach(s => {
        div.innerHTML += `<div class="sugestao aceita">${s}</div>`;
      });
    }
  </script>
</body>
</html>
